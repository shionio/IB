(function(n){"use strict";function u(){var i=document.createElement("mm"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var t in n)if(i.style[t]!==undefined)return{end:n[t]};return!1}function f(i){return this.each(function(){var r=n(this),u=r.data("mm"),f=n.extend({},t.DEFAULTS,r.data(),typeof i=="object"&&i);u||r.data("mm",u=new t(this,f));typeof i=="string"&&u[i]()})}var i,t,r;n.fn.emulateTransitionEnd=function(t){var r=!1,f=this,u;n(this).one("mmTransitionEnd",function(){r=!0});return u=function(){r||n(f).trigger(i.end)},setTimeout(u,t),this};i=u();!i||(n.event.special.mmTransitionEnd={bindType:i.end,delegateType:i.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}});t=function(i,r){this.$element=n(i);this.options=n.extend({},t.DEFAULTS,r);this.transitioning=null;this.options.toggle;this.init()};t.TRANSITION_DURATION=350;t.DEFAULTS={toggle:!0};t.prototype.init=function(){var t=this;this.$element.find("li.active").has("ul").children("ul").addClass("collapse in");this.$element.find("li").not(".active").has("ul").children("ul").addClass("collapse");this.$element.find("li").has("ul").children("a").on("click.metisMenu",function(i){var f=n(this),r=f.parent("li"),u=r.children("ul");i.preventDefault();r.hasClass("active")?t.hide(u):t.show(u)})};t.prototype.toggle=function(t){this[n(t).hasClass("in")?"hide":"show"](t)};t.prototype.show=function(r){var u=n(r),e=u.parent("li"),f;if(!this.transitioning&&!u.hasClass("in")){if(e.addClass("active"),this.options.toggle&&this.hide(e.siblings().children("ul.in")),u.removeClass("collapse").addClass("collapsing").height(0),this.transitioning=1,f=function(){u.removeClass("collapsing").addClass("collapse in").height("");this.transitioning=0},!i)return f.call(this);u.one("mmTransitionEnd",n.proxy(f,this)).emulateTransitionEnd(t.TRANSITION_DURATION).height(u[0].scrollHeight)}};t.prototype.hide=function(r){var u=n(r),f;if(!this.transitioning&&u.hasClass("in")){if(u.parent("li").removeClass("active"),u.height(u.height())[0].offsetHeight,u.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1,f=function(){this.transitioning=0;u.removeClass("collapsing").addClass("collapse")},!i)return f.call(this);u.height(0).one("mmTransitionEnd",n.proxy(f,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}};r=n.fn.metisMenu;n.fn.metisMenu=f;n.fn.metisMenu.Constructor=t;n.fn.metisMenu.noConflict=function(){return n.fn.metisMenu=r,this}})(jQuery);