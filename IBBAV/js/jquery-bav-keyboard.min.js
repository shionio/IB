(function(n){var r=function(t){for(var a,e,u,i,h=n("<div/>").addClass("jkeyboard-jk"),c=[],o=n("<div/>"),l=n('<div style="float:left; width:280px" />'),s=n('<div style="float:right; width:100px"/>'),r=0;r<t.keys.length;r++)for(u=t.keys[r].shuffle(),i=0;i<u.length;i++){var f=u[i],e="",v=f.substring(0,2);e=n("<button/>").addClass("btn btn-danger").text(f).data("val",f);s.append(e)}for(a=n("<span />").addClass("glyphicon glyphicon-arrow-left").attr("aria-hidden","true"),e=n('<button type="button" />').addClass("btn btn-danger jkeyboard-clear").append(a),s.append(e),o.append(s),r=0;r<t.keysA.length;r++)for(u=t.keysA[r].shuffle(),i=0;i<u.length;i++){var f=u[i],e="",v=f.substring(0,2);e=n("<button/>").addClass("btn btn-danger").text(f).data("val",f);l.append(e)}o.append(l);c.push(o);h.append(c);n(".jkeyboard-jk").remove();n(t.target).append(h);n(".jkeyboard-jk").mouseover(function(){n.each(n("button:not(.jkeyboard-clear)"),function(t,i){n(i).text("*")})}).mouseleave(function(){n.each(n("button:not(.jkeyboard-clear)"),function(t,i){n(i).text(n(i).data("val"))})})},u=function(n,t){var i=document.getElementById(n),s=i.scrollTop,r=0,f=i.selectionStart||i.selectionStart=="0"?"ff":document.selection?"ie":!1,e,o,u;f=="ie"?(i.focus(),u=document.selection.createRange(),u.moveStart("character",-i.value.length),r=u.text.length):f=="ff"&&(r=i.selectionStart);e=i.value.substring(0,r);o=i.value.substring(r,i.value.length);i.value=e+t+o;r=r+t.length;f=="ie"?(i.focus(),u=document.selection.createRange(),u.moveStart("character",-i.value.length),u.moveStart("character",r),u.moveEnd("character",0),u.select()):f=="ff"&&(i.selectionStart=r,i.selectionEnd=r,i.focus());i.scrollTop=s},t={keys:[["1","2","3","4","5","6","7","8","9","0"]],keysA:[["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","V","X","Y","Z"]],target:"body",inputId:""},i={init:function(i){i&&n.extend(t,i);r(t)}};Array.prototype.shuffle=function(){var n=this.length,t,i;if(n==0)return this;while(--n)t=Math.floor(Math.random()*(n+1)),i=this[n],this[n]=this[t],this[t]=i;return this};n.fn.jkeyboard=function(t){var r=arguments,u=this;return this.each(function(){if(i[t])return i[t].apply(u,Array.prototype.slice.call(r,1));if(typeof t!="object"&&t)n.error("Method "+t+" does not exist on jQuery.plugin");else return i.init.apply(u,Array.prototype.slice.call(r,0))})};n(document).on("click",".jkeyboard-jk button:not(.jkeyboard-clear)",function(i){i.preventDefault();var r=n(this).data("val");u(t.inputId,r)});n(document).on("click",".jkeyboard-clear",function(i){i.preventDefault();n("#"+t.inputId).val("")})})(jQuery);